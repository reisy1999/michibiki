# CSS設計原則：コンポーネントとコンテナの責任分離

## 核心原則

**コンポーネント（子）**: 「私はどう見えるか」
- 自身の内在的な見た目
- 再利用可能な固有のスタイル

**コンテナ（親）**: 「子をどこに置くか」
- コンポーネントの配置と位置
- レイアウト構造

---

## 責任分離のルール

### コンポーネントの責務
- **固有の見た目**: 色、フォント、形状、装飾
- **内部構造**: 子要素間の関係性
- **自己制約**: 最大/最小サイズの制限
- **柔軟性**: 親から与えられたスペースへの適応（幅100%など）

### コンテナの責務
- **配置**: 絶対位置、固定位置、相対位置
- **整列**: 中央揃え、左右配置、グリッド配置
- **間隔**: 外側の余白（margin）
- **レイアウト構造**: フレックス、グリッド、スタックの方向

---

## 判断基準

スタイルを適用する前に自問：

**「このスタイルは他の場所でも必要か？」**
- **YES** → コンポーネント
- **NO** → コンテナ

**「このスタイルは親のコンテキストに依存するか？」**
- **YES** → コンテナ
- **NO** → コンポーネント

---

## 責任分担表

| 属性 | コンポーネント | コンテナ |
|------|---------------|---------|
| **内在的な見た目** | ✓ | |
| **最大/最小サイズ** | ✓ | |
| **内部パディング** | ✓ | |
| **位置制御** | | ✓ |
| **外部マージン** | | ✓ |
| **親内での整列** | | ✓ |
| **レイアウト構造** | | ✓ |

---

## レスポンシブ設計の扱い

### コンポーネント側
見た目の変化（読みやすさ、使いやすさの調整）
```
- フォントサイズの変更
- 内部余白の調整
- 要素の表示/非表示
```

### コンテナ側
配置・構造の変化（レイアウトの再編成）
```
- 外部余白の変更
- レイアウト方向の切り替え
- グリッド列数の変更
```

---

## アンチパターン

### ❌ 避けるべき設計
- コンポーネントが自身の配置を決定
- コンテナがコンポーネントの内部スタイルを上書き
- 責任が混在して再利用性が低下

### ✓ 推奨される設計
- 明確な責任分離
- コンポーネントは「何か」を定義
- コンテナは「どこに」を定義
- 疎結合で高い再利用性

---

## 適用の指針

1. **コンポーネント設計時**: 「このコンポーネントは様々な場所で使われる」という前提
2. **コンテナ設計時**: 「このレイアウトはこのページ/セクション固有」という認識
3. **迷ったら**: より再利用可能な方（コンポーネント）を選択
